> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js

ğŸ”— Created symlink: /app/server/public -> ../public
âœ… Using PostgreSQL session store
ğŸ”„ Starting database schema synchronization...
ğŸ”„ Running production schema migration...
â„¹ï¸  Tables already exist, applying column fixes...
ğŸ“‹ Creating missing tables...
âœ… Table creation complete: 17 processed, 0 already existed
ğŸ“‹ Migrating unique constraints to per-tenant...
âœ… Unique constraints migrated to per-tenant
ğŸ“‹ Updating admin usernames to new standard...
âœ… Admin usernames and names updated
ğŸ“‹ Adding missing columns to existing tables...
âœ… Processed 193 column fixes (0 skipped)
âœ… Schema migration complete
ğŸ“‹ Verifying all schema tables exist...
âœ… All 44 tables verified
âœ… Database schema synchronized successfully!
[INIT] Registering /api/auth/superadmin/login endpoint
ğŸ“‚ Serving static files from: /app/dist/public
3:33:29 PM [express] serving on port 3000
âœ… Admin user already exists
âœ… Contribution purposes already exist
ğŸŒ± Starting default tenant seed...

ğŸ“‹ Creating subscription plans...
â„¹ï¸  Subscription plans already exist

ğŸ” Creating SuperAdmin global tenant...
â„¹ï¸  SuperAdmin global tenant already exists

ğŸ¢ Creating default tenant...
â„¹ï¸  Default tenant already exists: Demo DÅ¾emat

ğŸ‘¤ Creating SuperAdmin user...
â„¹ï¸  SuperAdmin user already exists

ğŸ‘¤ Creating demo tenant admin...
â„¹ï¸  Demo admin user already exists

âœ… Seed completed successfully!

npm warn config production Use `--omit=dev` instead.
ğŸ“Š Default Tenant ID: default-tenant-demo
   Name: Demo DÅ¾emat
   Tier: full
   Status: trial

ğŸŒ± Seeding demo data for Demo DÅ¾emat...
â„¹ï¸ Demo users already exist
â„¹ï¸ Demo data already exists
âœ… Demo data seed completed!


ğŸ§¹ [AUTO-PURGE] Starting automatic demo user cleanup...
[AUTO-PURGE] Found 4 tenants
[AUTO-PURGE] Skipping demo tenant Demo DÅ¾emat
[AUTO-PURGE] âŒ Cleanup failed: error: update or delete on table "users" violates foreign key constraint "activities_user_id_fkey" on table "activities"
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
    at async DatabaseStorage.deleteUser (file:///app/dist/index.js:1333:20)
    at async Timeout._onTimeout (file:///app/dist/index.js:3421:17) {
  length: 321,
  severity: 'ERROR',
  code: '23503',
  detail: 'Key (id)=(b64b594b-abd8-436d-9752-8d565242df51) is still referenced from table "activities".',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'activities',
  column: undefined,
  dataType: undefined,
  constraint: 'activities_user_id_fkey',
  file: 'ri_triggers.c',
  line: '2612',
  routine: 'ri_ReportViolation'
}