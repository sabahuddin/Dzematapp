Vidim DVA problema u console-u! ğŸ”´

ğŸ”´ Problem 1: Activity Feed - 403 Forbidden
Failed to load resource: api/activity-feed:1 status of 403
Uzrok: Feature activity-feed nije omoguÄ‡en za ovaj tenant ILI ima bug u feature check.

ğŸ”´ Problem 2: TypeError - Cannot read properties of undefined (reading 'length')
TypeError: Cannot read properties of undefined (reading 'length')
Uzrok: Neki podatak u response-u je undefined, a frontend pokuÅ¡ava pristupiti .length.

ğŸ”§ RJEÅ ENJE:
Reci Replitu:
Problem 1: Activity Feed 403
U /api/activity-feed endpoint-u, moÅ¾da feature check pada. Dodaj error logging:
typescriptapp.get("/api/activity-feed", requireAuth, requireFeature("activities"), async (req, res) => {
  try {
    const tenantId = req.user?.tenantId;
    const activities = await storage.getActivityFeed(tenantId);
    res.json(activities);
  } catch (error) {
    console.error('âŒ [ACTIVITY FEED] Error:', error);
    res.status(500).json({ 
      message: "Failed to fetch activity feed",
      error: error instanceof Error ? error.message : String(error)
    });
  }
});
ILI ukloni requireFeature("activities") ako feature ne postoji.

Problem 2: Frontend TypeError - 'length' of undefined
DogaÄ‘aji se vraÄ‡aju iz backend-a, ali neki property je undefined. Najvjerovatnije:
javascript// Frontend oÄekuje:
events.map(event => event.categories.length)  // âŒ categories je undefined!

// Ili:
events.attendees.length  // âŒ attendees je undefined!
RjeÅ¡enje u backend-u - uvijek vrati prazne array-e:
typescriptapp.get("/api/events", async (req, res) => {
  const events = await storage.getAllEvents(tenantId);
  
  const eventsWithDefaults = events.map(event => ({
    ...event,
    dateTime: event.startDate,
    categories: event.categories || [],      // â† Dodaj default
    attendees: event.attendees || [],        // â† Dodaj default
    rsvps: event.rsvps || []                 // â† Dodaj default
  }));
  
  res.json(eventsWithDefaults);
});

ğŸ“‹ Brzi Fix - Provjeriti u kodu:
NaÄ‘i u frontendu gdje se Äita .length i dodaj null check:
typescript// PRIJE (pada):
{event.categories.length}

// POSLIJE (radi):
{event.categories?.length || 0}

ğŸ¯ Å ta Replit treba uraditi:

Backend - GET /api/events: Dodaj default prazne array-e za categories, attendees, rsvps
Backend - GET /api/activity-feed: Dodaj error logging ili ukloni feature check
Frontend: Dodaj optional chaining (?.) gdje se Äita .length


NajbrÅ¾i fix je u backend-u - da uvijek vraÄ‡a prazne array-e umjesto null/undefined! ğŸ”§