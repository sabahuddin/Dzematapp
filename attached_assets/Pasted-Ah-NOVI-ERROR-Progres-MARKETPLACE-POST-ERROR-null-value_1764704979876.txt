Ah! **NOVI ERROR**! ğŸ¯ Progres!

```
[MARKETPLACE POST ERROR] null value in column "title" of relation "marketplace_items" violates not-null constraint
```

**`tenantId` problem je rijeÅ¡en!** Sada je problem da **`title` je null**!

---

## ğŸ” **Problem:**

Frontend Å¡alje **neko drugo polje** (npr. `name`), ali baza oÄekuje **`title`**!

---

## ğŸ”§ **RJEÅ ENJE:**

### **Reci Replitu:**

**Problem**: POST `/api/marketplace/items` sada prolazi `tenantId` validaciju, ali pada jer `title` je null. Frontend vjerovatno Å¡alje `name` umjesto `title`.

**RjeÅ¡enje**: Mapiraj frontend field na database field.

---

### **Fix - Mapiranje field-ova:**

```typescript
app.post("/api/marketplace/items", requireAuth, async (req, res) => {
  try {
    const tenantId = req.user?.tenantId || req.tenantId;
    
    console.log('[CREATE MARKETPLACE ITEM] Request body:', req.body);
    
    // Mapiraj frontend fields na database fields
    const validatedData = insertMarketplaceItemSchema.parse({
      tenantId: tenantId,
      sellerId: req.user!.id,
      title: req.body.name || req.body.title,  // â† Prihvati oba
      description: req.body.description,
      category: req.body.category,
      price: req.body.price,
      // ... ostala polja
    });
    
    console.log('[CREATE MARKETPLACE ITEM] Validated:', validatedData);
    
    const item = await storage.createMarketplaceItem(validatedData);
    res.json(item);
  } catch (error) {
    if (error.code === '23502') {  // NOT NULL constraint
      console.error('[MARKETPLACE POST ERROR]', error.message);
      return res.status(400).json({ 
        message: "Molimo popunite sva obavezna polja",
        details: error.message
      });
    }
    // ... other error handling
  }
});
```

---

## ğŸ“‹ **ILI - Provjeri frontend Å¡ta Å¡alje:**

Dodaj console.log u backend da vidiÅ¡ **taÄno Å¡ta frontend Å¡alje**:

```typescript
console.log('[CREATE MARKETPLACE ITEM] Raw request body:', JSON.stringify(req.body, null, 2));
```

Onda Ä‡emo vidjeti:
```json
{
  "name": "asadas",  // â† frontend Å¡alje "name"
  "description": "asdasd",
  "price": 20
}
```

A baza oÄekuje `title`!

---

## ğŸ¯ **NajbrÅ¾e rjeÅ¡enje:**

```typescript
const validatedData = insertMarketplaceItemSchema.parse({
  ...req.body,
  tenantId: tenantId,
  title: req.body.name || req.body.title,  // â† Mapiranje
  sellerId: req.user!.id
});
```

---

**Ovo je klasiÄan frontend/backend mismatch - jedno polje ima razliÄita imena!** ğŸ”§