Fixing NOT NULL constraints on legacy 'title' columns...
âœ… Fixed events.start_date NOT NULL constraint
âœ… Synced events.date_time â†’ start_date
âœ… Fixed 1 legacy 'title' NOT NULL constraints
ğŸ“‹ Fixing membership_applications nullable fields...
  âœ“ country
  âœ“ email
  âœ“ employment_status
  âœ“ occupation
  âœ“ skills_hobbies
  âœ“ spouse_name
  âœ“ spouse_phone
  âœ“ children_info
  âœ“ reviewed_by_id
  âœ“ reviewed_at
  âœ“ review_notes
  âœ“ photo
âœ… Fixed 12 membership_applications nullable constraints
ğŸ“‹ Assigning registry numbers to existing members...
âœ… Assigned registry numbers to 0 existing members
ğŸ“‹ Migrating user foreign key constraints to CASCADE...
âœ… Migrated 26 foreign key constraints to CASCADE
ğŸ“‹ Migrating title->name for legacy tables...
  âœ… Migrated events: copied title->name
âœ… Migrated 1 tables (title->name)
ğŸ“‹ Syncing membership settings currency with organization...
âœ… Membership currency synced with organization settings
ğŸ“‹ Adding default_currency column to tenants...
âœ… default_currency column added
ğŸ“‹ Fixing tenant enabled_modules with correct module IDs...
âœ… Tenant enabled_modules fixed for full-tier tenants
âœ… Schema migration complete
ğŸ“‹ Verifying all schema tables exist...
âœ… All 47 tables verified
âœ… Database schema synchronized successfully!
[INIT] Registering /api/auth/superadmin/login endpoint
ğŸ“‚ Serving static files from: /app/dist/public
1:22:12 PM [express] serving on port 3000
âœ… Admin user already exists
ğŸŒ± Starting default tenant seed...
ğŸ“‹ Creating subscription plans...
ğŸ“‹ Updating existing subscription plans with latest modules...
âœ… Full plan modules updated
ğŸ” Creating SuperAdmin global tenant...
â„¹ï¸  SuperAdmin global tenant already exists
ğŸ¢ Creating default tenant...
â„¹ï¸  Default tenant already exists: Demo DÅ¾emat
ğŸ‘¤ Creating SuperAdmin user...
âŒ Seed failed: error: column "push_token" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
    at async seedDefaultTenant (file:///app/dist/index.js:3806:32)
    at async startSeeding (file:///app/dist/index.js:12442:5) {
  length: 111,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '496',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}
Seed error: error: column "push_token" does not exist
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///app/node_modules/drizzle-orm/node-postgres/session.js:83:22
    at async seedDefaultTenant (file:///app/dist/index.js:3806:32)
    at async startSeeding (file:///app/dist/index.js:12442:5) {
  length: 111,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '496',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3716',
  routine: 'errorMissingColumn'
}