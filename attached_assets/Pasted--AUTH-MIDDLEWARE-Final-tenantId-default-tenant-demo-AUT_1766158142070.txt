[AUTH MIDDLEWARE] Final tenantId: default-tenant-demo
[AUTH MIDDLEWARE] User loaded: {
userId: '60572500-4eef-4282-a898-a33be6c3f6ba',
username: 'admin',
userTenantId: 'default-tenant-demo',
sessionTenantId: 'default-tenant-demo',
sessionIsSuperAdmin: undefined,
userIsSuperAdmin: true,
resolvedIsSuperAdmin: false
}
[AUTH MIDDLEWARE] Final tenantId: default-tenant-demo
3:27:16 PM [express] GET /api/certificates/templates 304 in 11ms :: [{"id":"cabbf7c6-961c-4d2b-9a25-…
[AUTH MIDDLEWARE] User loaded: {
userId: '60572500-4eef-4282-a898-a33be6c3f6ba',
username: 'admin',
userTenantId: 'default-tenant-demo',
sessionTenantId: 'default-tenant-demo',
sessionIsSuperAdmin: undefined,
userIsSuperAdmin: true,
resolvedIsSuperAdmin: false
}
[AUTH MIDDLEWARE] Final tenantId: default-tenant-demo
[TEMPLATE UPDATE] Updates to save: {
"name": "Mekteb",
"description": "Hvala Vam što podržavate naš mekteb",
"textPositionX": 580,
"textPositionY": 401,
"fontSize": 40,
"fontColor": "#4CAF50",
"textAlign": "center"
}
3:27:24 PM [express] PUT /api/certificates/templates/2ac247fc-3538-4d6c-8c54-fea6ef7d95a6 200 in 10m…
[AUTH MIDDLEWARE] User loaded: {
userId: '60572500-4eef-4282-a898-a33be6c3f6ba',
username: 'admin',
userTenantId: 'default-tenant-demo',
sessionTenantId: 'default-tenant-demo',
sessionIsSuperAdmin: undefined,
userIsSuperAdmin: true,
resolvedIsSuperAdmin: false
}
[AUTH MIDDLEWARE] Final tenantId: default-tenant-demo
3:27:24 PM [express] GET /api/certificates/templates 200 in 6ms :: [{"id":"cabbf7c6-961c-4d2b-9a25-8…
[AUTH MIDDLEWARE] User loaded: {
userId: '60572500-4eef-4282-a898-a33be6c3f6ba',
username: 'admin',
userTenantId: 'default-tenant-demo',
sessionTenantId: 'default-tenant-demo',
sessionIsSuperAdmin: undefined,
userIsSuperAdmin: true,
resolvedIsSuperAdmin: false
}
[AUTH MIDDLEWARE] Final tenantId: default-tenant-demo
[ISSUE CERTIFICATE] isSuperAdmin: false, bodyTenantId: undefined, using tenantId: default-tenant-demo
[ISSUE CERTIFICATE] Template data: {
"id": "2ac247fc-3538-4d6c-8c54-fea6ef7d95a6",
"name": "Mekteb",
"textPositionX": 580,
"textPositionY": 401,
"fontSize": 40,
"fontColor": "#4CAF50",
"textAlign": "center"
}
[Certificates] Processing certificate for user c3b14489-775d-428d-bce3-bece2e836c11: Samra Alić
[Certificate] ===== STARTING CERTIFICATE GENERATION =====
[Certificate] Options received: {
"templateImagePath": "/uploads/default-tenant-demo/certificates/certificate-template-1764861467279-c2hnzg.webp",
"recipientName": "Samra Alić",
"textPositionX": 580,
"textPositionY": 401,
"fontSize": 40,
"fontColor": "#4CAF50",
"textAlign": "center"
}
[Certificate] Reading template from: /app/public/uploads/default-tenant-demo/certificates/certificate-template-1764861467279-c2hnzg.webp
[Certificate] Template file exists
[Certificate] Template buffer size: 71600 bytes
[Certificate] Image dimensions: 1200x800
[Certificate] Drawing text with SVG: "Samra Alić"
[Certificate] Position: (580, 401)
[Certificate] Font size: 40px
[Certificate] Color: #4CAF50, Align: center
[Certificate] SVG buffer size: 240 bytes
[Certificate] Final image buffer size: 364129 bytes
[Certificate] ===== CERTIFICATE GENERATION COMPLETE =====
[Certificates] Saved certificate for Samra Alić to /uploads/default-tenant-demo/certificates/generated/certificate-c3b14489-775d-428d-bce3-bece2e836c11-1766158055595-825241103.png
[Certificates] Created DB record for Samra Alić: certId=35c85412-ae67-472d-b6cc-240df071092f, userId=c3b14489-775d-428d-bce3-bece2e836c11, imageUrl=/uploads/default-tenant-demo/certificates/generated/certificate-c3b14489-775d-428d-bce3-bece2e836c11-1766158055595-825241103.png
schema: undefined,
table: undefined,
column: undefined,
dataType: undefined,
constraint: undefined,
file: 'parse_target.c',
line: '1065',
routine: 'checkInsertTargets'
}
Fontconfig error: Cannot load default config file: No such file: (null)
